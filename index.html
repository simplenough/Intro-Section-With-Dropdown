<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Epilogue:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles/global.css" />
    <link rel="stylesheet" href="./styles/index.css" />
    <link rel="stylesheet" href="./styles/desktop.css" />

    <title>Frontend Mentor | Intro section with dropdown navigation</title>
  </head>

  <body>
    <nav class="drawer" id="drawer">
      <div class="menu-container">
        <figure id="close">
          <img
            class="menu-close"
            src="./assets/icon-close-menu.svg"
            alt="close icon"
          />
        </figure>
        <menu class="menu">
          <a class="menu-links" id="feature">
            Features
            <img
              src="./assets/icon-arrow-down.svg"
              id="featureArrow"
              alt="arrow pointing down"
            />
          </a>
          <menu class="sub-menu" id="featureSubMenu">
            <a class="sub-menu-links">
              <img src="./assets/icon-todo.svg" alt="list icon" /> Todo List
            </a>
            <a class="sub-menu-links">
              <img src="./assets/icon-calendar.svg" alt="calendar icon" />
              Calendar
            </a>
            <a class="sub-menu-links">
              <img src="./assets/icon-reminders.svg" alt="bell icon" />
              Reminders
            </a>
            <a class="sub-menu-links">
              <img src="./assets/icon-planning.svg" alt="clock icon" /> Planning
            </a>
          </menu>
          <a class="menu-links" id="company">
            Company
            <img
              src="./assets/icon-arrow-down.svg"
              id="companyArrow"
              alt="arrow pointing down"
            />
          </a>
          <menu class="sub-menu" id="companySubMenu">
            <a class="sub-menu-links">History</a>
            <a class="sub-menu-links">Our Team</a>
            <a class="sub-menu-links">Blog</a>
          </menu>
          <a class="menu-links">Careers</a>
          <a class="menu-links">About</a>
        </menu>
        <div class="menu-buttons">
          <a class="login-link">Login</a>
          <a class="register-button">Register</a>
        </div>
      </div>
      <div class="menu-overlay"></div>
    </nav>
    <header class="header">
      <figure class="header-logo-container">
        <img class="header-logo" src="./assets/logo.svg" alt="snap logo" />
      </figure>
      <figure class="header-hamburger-container" id="hamburger">
        <img
          class="header-hamburger"
          src="./assets/icon-menu.svg"
          alt="menu icon"
        />
      </figure>
    </header>
    <main>
      <section class="hero">
        <figure class="hero-img-container">
          <img
            class="hero-img-mobile"
            src="./assets/image-hero-mobile.png"
            alt="abstract art around guy holding a laptop"
          />
          <img
            class="hero-img-desktop"
            src="./assets/image-hero-desktop.png"
            alt="abstract art around guy holding a laptop"
          />
        </figure>
        <article class="hero-article">
          <h1 class="hero-article-header">Make remote work</h1>
          <p class="hero-article-p">
            Get your team in sync, no matter your location. Streamline
            processes, create team rituals, and watch productivity soar.
          </p>
          <button class="hero-article-button">Learn more</button>
          <div class="clients">
            <img
              class="client-logo-databiz"
              src="./assets/client-databiz.svg"
              alt="databiz logo"
            />
            <img
              class="client-logo-audiophile"
              src="./assets/client-audiophile.svg"
              alt="audiophile logo"
            />
            <img
              class="client-logo-meet"
              src="./assets/client-meet.svg"
              alt="meet logo"
            />
            <img
              class="client-logo-maker"
              src="./assets/client-maker.svg"
              alt="maker logo"
            />
          </div>
        </article>
      </section>
    </main>
    <script>
      // *objective: display drawer when hamburger is clicked
      // --event listener on hamburger
      // --on click, drawer displays
      // --get drawer
      // *objective: hide drawer when close button is clicked
      // --event listener on close button
      // --on click, hide drawer

      // TODO better names
      let hamburger = document.getElementById("hamburger"),
        drawer = document.getElementById("drawer"),
        close = document.getElementById("close");

      hamburger.addEventListener("click", () => {
        drawer.style.display = "flex";
      });

      close.addEventListener("click", () => {
        drawer.style.display = "none";
      });

      // *objective: display mobile sub menus when corresponding links are clicked
      // --event listener on features and company
      // --on click, sub menu displays
      // --on click, arrow flips

      class Component {
        construct(elementId) {
          this.element = document.getElementById(elementId);
        }

        transform(style) {
          this.element.style.transform = style;
        }

        display(style) {
          this.element.style.transform = style;
        }

        event(nameOfEvent, callback) {
          this.element.addEventListener(nameOfEvent, callback);
        }
        
        toggleClass(className) {
          this.element.classList.toggle(className);
        }
      };

      let Feat = new Component("feature");
      let FeatSubMenu = new Component("featureSubMenu");
      let FeatArrow = new Component("featureArrow");
      
      let Company = new Component("company");
      let CompanySubMenu = new Component("companySubMenu");
      let CompanyArrow = new Component("companyArrow");

      Feat.event("click", () => {
        FeatSubMenu.toggleClass("open");
        FeatArrow.toggleClass("flip");
      });

      Company.event("click", () => {
        CompanySubMenu.toggleClass("open");
        CompanyArrow.toggleClass("flip");
      });
     
      // if feature is clicked, display sub menu
      // else, don't display
      // if clicked again, hide sub menu

      Feat.event("mouseenter", () => {
        Feat.transform("rotate(180deg)");
        Feat.display("flex");
        Company.display("none");
      })
      Feat.event("mouseleave", () => {
        Feat.transform("rotate(360deg)");
      })
      FeatSubMenu.addEventListener("mouseenter", () => {
        FeatArrow.transform("rotate(180deg)");
      });
      FeatSubMenu.event("mouseleave", () => {
        FeatSubMenu.display("none");
        FeatArrow.transform("rotate(360deg)");
      });

      Company.event("mouseenter", () => {
        CompanyArrow.transform("rotate(180deg)");
        CompanySubMenu.display(= "flex");
        FeatSubMenu.display("none");
      });
      Company.event("mouseleave", () => {
        CompanyArrow.transform("rotate(360deg)");
      });
      CompanySubMenu.event("mouseenter", () => {
        CompanyArrow.transform("rotate(180deg)");
      });
      CompanySubMenu.event("mouseleave", () => {
        CompanySubMenu.display("none");
        CompanyArrow.transform("rotate(360deg)");
      });
    </script>
  </body>
</html>
